<!DOCTYPE html>
<html>
<head lang="cn">
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
<ul id="testHover">
  <li>werwerwr</li>
  <li>werwerwr</li>
</ul>
</body>
</html>
<script>

  var obj = document.getElementById('testHover');
  hover(obj , function() {
    console.log('移入！');
  },function(){
    console.log('移出！');
  });
  /*
   * 判断元素是狗包含指定元素
   * @Param {DOM} parentNode
   * @Param {DOM} childNode
   * @return {Boolean}
   * */
  function contains(parentNode, childNode) {
    if (parentNode.contains) {
      return parentNode != childNode && parentNode.contains(childNode);
    } else {
      return !!(parentNode.compareDocumentPosition(childNode) & 16);
    }
  }


  /* 依赖contains函数 */
  /*
   * hover函数
   * @Param {DOM} obj DOM对象
   * @Param {Function} callback hover时候执行的函数
   * */
  function hover(obj, callbackIn, callbackOut){

    obj.onmouseover = function (ev){
      if(isHover(ev , this))
        callbackIn && callbackIn();
    };

    obj.onmouseout = function (ev){
      if(isHover(ev , this))
        callbackOut && callbackOut();
    };
    function isHover(e,target){
      e = e || window.event;

      var fromNode = e.relatedTarget || e.fromElement
              , toNode = e.relatedTarget || e.toElement;

      if (e.type=="mouseover")  {
        return !contains(target, fromNode) && !( fromNode === target);
      } else {
        return !contains(target, toNode) && !(toNode === target);
      }
    }

  }
</script>